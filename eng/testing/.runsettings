<?xml version="1.0" encoding="utf-8"?>
<RunSettings>
  <RunConfiguration>
    <!-- Directory for test run reports. E.g. trx, coverage etc. -->
    <ResultsDirectory>.\TestResults\</ResultsDirectory>
    <!-- Working directory for test invocation. Results directory can be relative to this. Used by IDEs. -->
    <SolutionDirectory>.\</SolutionDirectory>
    <!-- Degree of parallelization, spawns n test hosts to run tests. -->
    <MaxCpuCount>$$MAXCPUCOUNT$$</MaxCpuCount>
    <!-- If true, an adapter should disable any test case parallelization. -->
    <DisableParallelization>$$DISABLEPARALLELIZATION$$</DisableParallelization>
    <!-- Filter out failing (wrong framwork, platform, runtime or activeissue) tests -->
    <TestCaseFilter>$$TESTCASEFILTER$$</TestCaseFilter>
    <DotNetHostPath>$$DOTNETHOSTPATH$$</DotNetHostPath>
    <EnvironmentVariables>
      $$MONO_ENV_OPTIONS$$
    </EnvironmentVariables>
  </RunConfiguration>
  <LoggerRunSettings>
    <Loggers>
      <Logger friendlyName="trx" />
      <Logger friendlyName="html" />
      <Logger friendlyName="console">
        <Configuration>
          <Verbosity>Minimal</Verbosity>
        </Configuration>
      </Logger>
    </Loggers>
  </LoggerRunSettings>
  <DataCollectionRunSettings>
    <DataCollectors>
      <DataCollector friendlyName="XPlat code coverage" enabled="false">
        <Configuration>
          <Include>$$COVERAGE_INCLUDE$$</Include>
          <ExcludeByFile>$$COVERAGE_EXCLUDEBYFILE$$</ExcludeByFile>
          <IncludeDirectory>$$COVERAGE_INCLUDEDIRECTORY$$</IncludeDirectory>
          <Format>opencover</Format>
          <SingleHit>false</SingleHit>
          <UseSourceLink>true</UseSourceLink>
          <IncludeTestAssembly>false</IncludeTestAssembly>
        </Configuration>
      </DataCollector>
      <DataCollector friendlyName="blame" enabled="True">
        <Configuration>
          <CollectDump DumpType="Full" />
          <!-- Re-enabled locally when https://github.com/microsoft/vstest/issues/2595 is fixed.
          <CollectDumpOnTestSessionHang TestTimeout="30min" HangDumpType="Full" /> -->
        </Configuration>
      </DataCollector>
    </DataCollectors>
  </DataCollectionRunSettings>
</RunSettings>
